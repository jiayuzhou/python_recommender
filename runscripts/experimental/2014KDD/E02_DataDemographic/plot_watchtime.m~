% watch time. 

clear; close all;

%%
view_status_file = 'view_watchtime.mat';



if ~exist(view_status_file, 'file')
    % construct the sparse data matrix. 
    daily_data_mat_file = '/Users/jiayu.zhou/Data/duid-program-watchTime-genre/20131209_sparse.mat';
    load_data = load(daily_data_mat_file);

    data_mat = sparse(load_data.i, load_data.j, load_data.data, ...
        load_data.m, load_data.n);
    
    user_viewtime      = full(sum(loaddata.data,2));
    prog_viewtime      = full(sum(loaddata.data,1));
    
    save(view_status_file, 'user_viewtime', 'prog_viewtime');
else
    loadstat = load(view_status_file);
    user_viewtime      = loadstat.user_viewtime;
    prog_viewtime      = loadstat.prog_viewtime;
end

user_num = length(user_view_prog);
prog_num = length(prog_viewedby_user);

